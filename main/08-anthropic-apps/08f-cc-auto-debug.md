# 08f - Claude Code 自动调试

Claude Code 不止可以编写代码，还可以充当自动化调试助手，监控已部署的应用程序，检测生产环境中的错误，甚至自动修复它们。

![img](./08f-cua-auto-debug.assets/1.jpg)

## 自动错误检测与修复

考虑如下场景：应用在开发环境中运行良好，但在生产环境中崩溃。传统的研发流程中，开发者需要调阅 CloudWatch 日志，寻找错误信息，并手动调试本地和生产环境之间的差异；这个过程既耗时，又需要从开发工作切换到运维排错。相比起手动调试，可以让 Claude 自动处理整个流程：

- 配置一个每天运行的 GitHub Action
- Claude 向 CloudWatch 查询过去 24 小时内的错误
- 过滤、去重错误，以适应上下文限制
- Claude 分析每个错误并尝试修复
- Claude 提交修复后的代码，并自动打开 Pull Request

这个 GitHub Action 需要多个部分来运行：

- 支持拉取仓库代码和安装依赖
- 能配置 Claude Code
- 能配置用于访问 CloudWatch 的 AWS CLI
- 有错误过滤逻辑，能符合上下文窗口限制
- 能自动创建提交和 Pull Request

当 Claude 在日志中发现错误时，不仅会识别它们，还能理解上下文并尝试修复，你会看到有下列特征的 Pull Request：

- 清晰的错误描述与根因分析
- 已实施的修复措施
- 更新后的代码

你可以审查 Pull Request，清楚地看到 Claude 发现了什么以及它是如何修复问题的。这种自动化调试方法非常灵活，可以调整它以满足特定需求：

- 调整错误检测频率
- 自定义错误处理优先级
- 添加特定的调试指令
- 与不同的日志系统集成
- 为关键问题设置通知

这种工作方式使调试从被动、手动的过程转变为主动、自动化的系统。
