# 09g - 工作流还是 Agent

当构建人工智能应用程序时，你通常会需要在两种不同的架构方法之间进行选择：工作流和代理。每种方法都有其独特的优势和权衡，使它们适用于不同的场景。

![img](09g-workflow-vs-agent.assets/instructor%2Fa46l9irobhg0f5webscixp0bs%2Fpublic%2F1748543217%2F11_-_007_-_Workflows_vs_Agents_00.1748543217764-1762052635395-1.jpg)

## 什么是工作流？

工作流是一系列预定义的调用 Claude 的操作，旨在解决已知的问题或一系列问题。当您能够提前想象出步骤的流程时，您就会使用工作流——本质上，当您知道完成任务的精确顺序时。

将工作流程视为将大任务分解成许多更小、更具体的子任务。每一步都专注于一个单一领域，这使得 Claude 能够更精确地工作。

## 什么是代理？

与代理相比，Claude 获得一套基本工具，并被期望制定一个使用这些工具完成任务的计划。与工作流不同，你不知道将提供哪些任务，因此系统需要更加适应。

代理可以通过以意想不到的方式组合工具，创造性地解决各种挑战。

## 工作流的优势

- Claude 可以一次专注于一个子任务，通常带来更高的准确性
- 更容易评估和测试，因为你知道每个确切步骤
- 执行更可预测和可靠
- 更适合解决具体、定义明确的问题

## Agent 的好处

- 允许更灵活的用户体验
- 更灵活的任务完成 - Claude 可以以意想不到的方式组合工具，完成各种任务
- 能够处理在开发过程中未预料到的新情况
- 可按需向用户请求额外输入
- ReAct

## 工作流弊端

- 远不如灵活——专注于解决特定类型的任务
- 通常用户体验更加受限 - 您需要知道流程的确切输入
- 需要更多的前期规划和设计工作

## Agent 的缺点

- 与工作流相比，任务完成率较低
- 更难进行工具化、测试和评估，因为你往往不知道一个代理将执行哪些步骤
- 行为更不可预测

你的主要目标是作为工程师可靠地解决问题。用户可能并不在乎你构建了一个花哨的智能体——他们想要的是一个始终如一工作的产品。

一般建议尽可能关注实施工作流，只有在真正需要时才求助于代理。工作流为大多数生产应用提供了可靠性和可预测性，而代理则提供了在确切需求无法预先确定的情况下的灵活性。

