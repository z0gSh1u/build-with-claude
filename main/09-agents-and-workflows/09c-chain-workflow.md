# 09c - 链式工作流

链式串联化的工作流是使用 Claude 时最有用的模式之一，在处理复杂任务或者 Claude 难以持续处理的长提示词时很有价值。

## 定义

串联式工作流将大型任务分解为小的、按顺序（相互依赖）的子任务：

![img](./09c-chain-workflow.assets/instructor%2Fa46l9irobhg0f5webscixp0bs%2Fpublic%2F1748543145%2F11_-_003_-_Chaining_Workflows_08.1748543145309.jpg)

比如这个例子：你在开发一个社交媒体营销工具，可以自动创建和发布视频。可以将工作流分解如下：

- 在 Twitter 上查找相关话题
- 使用 Claude 选择最有趣的话题
- 使用 Claude 研究该话题
- 使用 Claude 编写短视频脚本

- 使用 AI 虚拟形象和 TTS 功能制作视频
- 将视频发布到社交媒体

相比于直接使用一个大型提示词，Claude 每次专注于一个步骤，而不是直接做所有事情，从而获得了如下优势：

- 将大型任务拆分为更小的、不可并行的子任务
- 允许在任务之间进行非 LLM 处理
- Claude 每次专注于整体任务的一个方面

## 长提示词的问题和链式解决方案

这就是串联变得非常有价值的地方。你经常会遇到需要 Claude 根据许多具体约束来撰写内容的情况。比如说，你想让 Claude 写一篇技术文章，并指定它应该：

- 不要提及这是由人工智能撰写的
- 避免使用表情符号
- 避免使用陈词滥调或过于随意的语言
- 以专业、技术性语言撰写

即便所有这些限制条件都明确说明，Claude 仍可能生成违反部分规则的内容。你可能会收到一篇仍使用表情符号、提及人工智能作者身份或听起来不专业的文章。

![img](./09c-chain-workflow.assets/instructor%2Fa46l9irobhg0f5webscixp0bs%2Fpublic%2F1748543146%2F11_-_003_-_Chaining_Workflows_13.1748543146542.jpg)

与其与一个庞大的提示进行对抗，不如采用两步链式方法：

- 步骤 1：发送你的初始提示并接受第一个结果可能不完美。Claude 将生成一篇文章，但它可能会违反你的一些约束。
- 步骤 2：提出一个专注于解决具体问题的后续请求。提供 Claude 刚刚写好的文章，并给出有针对性的修改指示：

```
修改下面提供的文章。按照以下步骤重写文章：1. 找出所有将作者标识为AI的地方并删除它们 2. 查找并删除所有表情符号 3. 定位任何尴尬的写作，并用技术作家会写的文字替换它
```

![img](./09c-chain-workflow.assets/instructor%2Fa46l9irobhg0f5webscixp0bs%2Fpublic%2F1748543148%2F11_-_003_-_Chaining_Workflows_17.1748543148012.jpg)

## 何时使用

串联工作流在以下情况下特别有用：

- 您有具有多重要求的复杂任务
- Claude 始终忽略长提示中的一些约束
- 您需要在步骤之间处理或验证输出
- 您希望保持每次交互的专注和可控

虽然串联可能看似额外的工作，但与试图将所有内容塞入单个提示相比，它通常能产生更好的结果。关键在于识别何时任务复杂到需要分解为专注的、顺序步骤才能受益。

