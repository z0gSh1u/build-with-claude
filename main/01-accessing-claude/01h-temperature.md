# 01h - 温度

在与 Claude 等大模型的交互中，温度是一个强大而实用的参数。它能够控制 Claude 的响应是更可预测的，还是更具创造性的。

为了更好地理解温度，我们有必要先了解 Claude 生成文本的过程，包括三个关键步骤。

- 分词 Tokenization：将用户输入分解成小片段
- 预测 Prediction：计算下一个可能 Token 的概率
- 采样 Sampling：基于概率以一定准则选择一个 Token

![img](./01h-temperature.assets/1.png)

温度是一个介于 0 和 1 之间的数值，影响采样阶段的选择。在低温（接近 0）时，Claude 变得非常确定性——它几乎总是选择概率最高的标记；在高温（接近 1）时，Claude 将概率更均匀地分布在选项上，导致输出更多样化和富有创造力。

推荐为不同的任务选择不同的温度，一些定性的建议如下表所示：

| 温度         | 任务                                     |
| ------------ | ---------------------------------------- |
| 低温 0.0~0.3 | 事实性回复、代码编写、数据提取、内容审核 |
| 中温 0.4~0.7 | 总结文本、解决问题、有约束条件的创意写作 |
| 高温 0.8~1.0 | 头脑风暴、营销内容、创意写作             |

在 Claude SDK 中，给 `create` 函数传递 `temperature` 参数即可指定温度，目前的默认温度是 1.0。我们在 [01h.ipynb](https://github.com/z0gSh1u/build-with-claude/blob/master/main/01-accessing-claude/01h.ipynb) 中实现了对应的逻辑并比较了不同温度设定下的表现。需要注意的是，高温度并不总能保证多样的输出，例如一些绝对事实的问题仍然会倾向于产生相似的响应。
